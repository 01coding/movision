<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zhuhuibao.mybatis.memCenter.mapper.ForbidKeyWordsMapper" >
  <resultMap id="BaseResultMap" type="com.zhuhuibao.mybatis.memCenter.entity.ForbidKeyWords" >
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="create_id" property="create_id" jdbcType="VARCHAR" />
    <result column="company_id" property="company_id" jdbcType="VARCHAR" />
    <result column="create_time" property="create_time" jdbcType="VARCHAR" />
    <result column="key_words" property="key_words" jdbcType="VARCHAR" />
    <result column="is_deleted" property="is_deleted" jdbcType="VARCHAR" />
  </resultMap>
  <select id="queryKeyWordsList" resultType="java.util.Map" parameterType="java.util.Map">
    SELECT  t.id,t.company_id, m.enterpriseName
    FROM t_i_forbid_key_words t
    LEFT JOIN t_m_member m on t.company_id = m.id
    where t.create_id = #{create_id} and t.is_deleted = #{is_deleted}
  </select>
  <insert id="addForbidKeyWords" parameterType="com.zhuhuibao.mybatis.memCenter.entity.ForbidKeyWords" >
    insert into t_i_forbid_key_words
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="create_id != null" >
        create_id,
      </if>
        create_time,
      <if test="key_words != null" >
        key_words,
      </if>
      <if test="company_id != null" >
        company_id,
      </if>
      <if test="is_deleted != null" >
        is_deleted,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id},
      </if>
      <if test="create_id != null" >
        #{create_id},
      </if>
        now(),
      <if test="key_words != null" >
        #{key_words},
      </if>
      <if test="company_id != null" >
        #{company_id},
      </if>
      <if test="is_deleted != null" >
        #{is_deleted},
      </if>
    </trim>
  </insert>
  <update id="updForbidKeyWords" parameterType="com.zhuhuibao.mybatis.memCenter.entity.ForbidKeyWords" >
    update t_i_forbid_key_words
    <set >
      <if test="key_words != null" >
        key_words = #{key_words},
      </if>
      <if test="company_id != null" >
        company_id = #{company_id},
      </if>
      <if test="is_deleted != null" >
        is_deleted = #{is_deleted},
      </if>
    </set>
    where id = #{id}
  </update>
</mapper>